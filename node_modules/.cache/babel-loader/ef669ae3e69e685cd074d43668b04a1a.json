{"ast":null,"code":"import _classCallCheck from \"/Users/mehrshadmatin/Desktop/github/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mehrshadmatin/Desktop/github/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mehrshadmatin/Desktop/github/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mehrshadmatin/Desktop/github/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mehrshadmatin/Desktop/github/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mehrshadmatin/Desktop/github/src/components/Results.js\";\n\nvar React = require('react');\n\nvar queryString = require('query-string');\n\nvar api = require('../utils/api');\n\nvar Link = require('react-router-dom').Link;\n\nvar Results =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Results, _React$Component);\n\n  function Results(props) {\n    var _this;\n\n    _classCallCheck(this, Results);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Results).call(this, props));\n    _this.state = {\n      winner: null,\n      loser: null,\n      error: null,\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var players = queryString.parse(this.props.location.search);\n      api.battle([players.playerOneName, players.playerTwoName]).then(function (results) {\n        if (results === null) {\n          return this.setState(function () {\n            return {\n              error: 'Looks like ther was error',\n              loading: false\n            };\n          });\n        }\n\n        this.setState(function () {\n          return {\n            error: null,\n            winner: results[0],\n            loser: results[1],\n            loading: false\n          };\n        });\n      }.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var error = this.state.arror;\n      var winner = this.state.winner;\n      var loser = this.state.loser;\n      var loading = this.state.loading;\n\n      if (loading === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Loading\");\n      }\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, error), React.createElement(Link, {\n          to: \"/battle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Reset\"));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, JSON.stringify(this.state, null, 2));\n    }\n  }]);\n\n  return Results;\n}(React.Component);\n\nexport default Results;","map":{"version":3,"sources":["/Users/mehrshadmatin/Desktop/github/src/components/Results.js"],"names":["React","require","queryString","api","Link","Results","props","state","winner","loser","error","loading","players","parse","location","search","battle","playerOneName","playerTwoName","then","results","setState","bind","arror","JSON","stringify","Component"],"mappings":";;;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,cAAD,CAAzB;;AACA,IAAIE,GAAG,GAAGF,OAAO,CAAC,cAAD,CAAjB;;AAEA,IAAIG,IAAI,GAAGH,OAAO,CAAC,kBAAD,CAAP,CAA4BG,IAAvC;;IAGMC,O;;;;;AAEF,mBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAGd,iFAAMA,KAAN;AAGA,UAAKC,KAAL,GAAa;AAITC,MAAAA,MAAM,EAAG,IAJA;AAKTC,MAAAA,KAAK,EAAE,IALE;AAMTC,MAAAA,KAAK,EAAE,IANE;AAOTC,MAAAA,OAAO,EAAE;AAPA,KAAb;AANc;AAejB;;;;wCAEkB;AACf,UAAIC,OAAO,GAAGV,WAAW,CAACW,KAAZ,CAAkB,KAAKP,KAAL,CAAWQ,QAAX,CAAoBC,MAAtC,CAAd;AACAZ,MAAAA,GAAG,CAACa,MAAJ,CAAW,CAGPJ,OAAO,CAACK,aAHD,EAIPL,OAAO,CAACM,aAJD,CAAX,EAMGC,IANH,CAMQ,UAASC,OAAT,EAAiB;AAErB,YAAIA,OAAO,KAAI,IAAf,EAAoB;AAIhB,iBAAO,KAAKC,QAAL,CAAc,YAAU;AAG3B,mBAAO;AACHX,cAAAA,KAAK,EAAE,2BADJ;AAEHC,cAAAA,OAAO,EAAE;AAFN,aAAP;AAKH,WARM,CAAP;AASH;;AAGD,aAAKU,QAAL,CAAc,YAAU;AAGpB,iBAAO;AAIHX,YAAAA,KAAK,EAAE,IAJJ;AAKHF,YAAAA,MAAM,EAAEY,OAAO,CAAC,CAAD,CALZ;AAMHX,YAAAA,KAAK,EAAEW,OAAO,CAAC,CAAD,CANX;AAOHT,YAAAA,OAAO,EAAE;AAPN,WAAP;AASH,SAZD;AAcH,OAhCO,CAgCNW,IAhCM,CAgCD,IAhCC,CANR;AAwCH;;;6BAIO;AAEJ,UAAIZ,KAAK,GAAG,KAAKH,KAAL,CAAWgB,KAAvB;AACA,UAAIf,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAAxB;AACA,UAAIC,KAAK,GAAG,KAAKF,KAAL,CAAWE,KAAvB;AACA,UAAIE,OAAO,GAAG,KAAKJ,KAAL,CAAWI,OAAzB;;AAKA,UAAIA,OAAO,KAAG,IAAd,EAAmB;AAIf,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACH;;AAID,UAAID,KAAJ,EAAU;AAKN,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIA,KAAJ,CAJJ,EAKI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAE,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALJ,CAHJ;AAWH;;AACD,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMc,IAAI,CAACC,SAAL,CAAe,KAAKlB,KAApB,EAA0B,IAA1B,EAA+B,CAA/B,CAAN,CADJ;AAGH;;;;EAxGiBP,KAAK,CAAC0B,S;;AA6G5B,eAAerB,OAAf","sourcesContent":["var React = require('react');\nvar queryString = require('query-string');\nvar api = require('../utils/api');\n\nvar Link = require('react-router-dom').Link;\n\n\nclass Results extends React.Component{\n\n    constructor(props){\n\n\n        super(props);\n\n\n        this.state = {\n\n\n\n            winner : null,\n            loser: null,\n            error: null,\n            loading: true\n        }\n    }\n\n    componentDidMount(){\n        var players = queryString.parse(this.props.location.search)\n        api.battle([\n\n\n            players.playerOneName,\n            players.playerTwoName\n\n        ]).then(function(results){\n\n            if (results ===null){\n\n\n\n                return this.setState(function(){\n\n\n                    return {\n                        error: 'Looks like ther was error',\n                        loading: false,\n\n                    }\n                });\n            }\n\n\n            this.setState(function(){\n\n\n                return {\n\n\n\n                    error: null,\n                    winner: results[0],\n                    loser: results[1],\n                    loading: false\n                }\n            });\n\n        }.bind(this));\n\n    }\n\n\n\n    render(){\n\n        var error = this.state.arror;\n        var winner = this.state.winner;\n        var loser = this.state.loser;\n        var loading = this.state.loading;\n\n\n\n\n        if (loading===true){\n\n\n\n            return <p>Loading</p>\n        }\n\n\n\n        if (error){\n\n\n\n\n            return (\n\n\n                <div>\n\n\n\n                    <p>{error}</p>\n                    <Link to ='/battle'>Reset</Link>\n                </div>\n            )\n        }\n        return (\n            <div>{JSON.stringify(this.state,null,2)}</div>\n        )\n    }\n}\n\n\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}